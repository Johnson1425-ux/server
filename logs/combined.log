2025-08-26 15:36:27 [INFO]: Server running in development mode on port 5000
2025-08-26 15:36:27 [INFO]: MongoDB Connected: localhost
2025-08-26 15:39:33 [INFO]: Connected to MongoDB
2025-08-26 15:39:33 [INFO]: Setting up admin user...

2025-08-26 15:42:02 [INFO]: 
âœ… Admin user created successfully!
2025-08-26 15:42:25 [WARN]: MongoDB disconnected
2025-08-26 15:42:38 [INFO]: Server running in development mode on port 5000
2025-08-26 15:42:38 [INFO]: MongoDB Connected: localhost
2025-08-26 15:43:35 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 15:45:38 [ERROR]: Update user error: Cast to ObjectId failed for value "profile" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "profile" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"profile\"",
  "kind": "ObjectId",
  "value": "profile",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-26 15:45:57 [ERROR]: Update user error: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"preferences\"",
  "kind": "ObjectId",
  "value": "preferences",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-26 15:46:16 [ERROR]: Update user error: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"preferences\"",
  "kind": "ObjectId",
  "value": "preferences",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-26 15:46:24 [ERROR]: Update user error: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"preferences\"",
  "kind": "ObjectId",
  "value": "preferences",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-26 15:52:40 [ERROR]: Error sending verification email: sendEmail is not a function
TypeError: sendEmail is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:84:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 15:56:42 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 15:58:26 [ERROR]: Update user error: Cast to ObjectId failed for value "profile" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "profile" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"profile\"",
  "kind": "ObjectId",
  "value": "profile",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-26 16:41:11 [INFO]: Connected to MongoDB
2025-08-26 16:41:12 [INFO]: Admin user already exists
2025-08-26 16:42:26 [WARN]: MongoDB disconnected
2025-08-26 16:46:04 [INFO]: Server running in development mode on port 5000
2025-08-26 16:46:04 [INFO]: MongoDB Connected: localhost
2025-08-26 16:47:13 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:47:14 [ERROR]: Login error: option expires is invalid
TypeError: option expires is invalid
    at Object.serialize (C:\Users\Admin\Documents\new\server\node_modules\cookie\index.js:234:13)
    at res.cookie (C:\Users\Admin\Documents\new\server\node_modules\express\lib\response.js:892:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:200:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 16:47:31 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:47:31 [ERROR]: Login error: option expires is invalid
TypeError: option expires is invalid
    at Object.serialize (C:\Users\Admin\Documents\new\server\node_modules\cookie\index.js:234:13)
    at res.cookie (C:\Users\Admin\Documents\new\server\node_modules\express\lib\response.js:892:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:200:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 16:49:06 [INFO]: Connected to MongoDB
2025-08-26 16:49:06 [INFO]: Admin user already exists
2025-08-26 16:49:21 [WARN]: MongoDB disconnected
2025-08-26 16:49:26 [INFO]: Server running in development mode on port 5000
2025-08-26 16:49:26 [INFO]: MongoDB Connected: localhost
2025-08-26 16:49:41 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:49:41 [ERROR]: Login error: option expires is invalid
TypeError: option expires is invalid
    at Object.serialize (C:\Users\Admin\Documents\new\server\node_modules\cookie\index.js:234:13)
    at res.cookie (C:\Users\Admin\Documents\new\server\node_modules\express\lib\response.js:892:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:200:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 16:51:33 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:51:33 [ERROR]: Login error: option expires is invalid
TypeError: option expires is invalid
    at Object.serialize (C:\Users\Admin\Documents\new\server\node_modules\cookie\index.js:234:13)
    at res.cookie (C:\Users\Admin\Documents\new\server\node_modules\express\lib\response.js:892:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:200:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 16:51:42 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:51:54 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:51:55 [ERROR]: Login error: option expires is invalid
TypeError: option expires is invalid
    at Object.serialize (C:\Users\Admin\Documents\new\server\node_modules\cookie\index.js:234:13)
    at res.cookie (C:\Users\Admin\Documents\new\server\node_modules\express\lib\response.js:892:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:200:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 16:52:11 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:53:06 [WARN]: MongoDB disconnected
2025-08-26 16:53:14 [INFO]: Server running in development mode on port 5000
2025-08-26 16:53:14 [INFO]: MongoDB Connected: localhost
2025-08-26 16:53:25 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:53:26 [ERROR]: Login error: option expires is invalid
TypeError: option expires is invalid
    at Object.serialize (C:\Users\Admin\Documents\new\server\node_modules\cookie\index.js:234:13)
    at res.cookie (C:\Users\Admin\Documents\new\server\node_modules\express\lib\response.js:892:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:200:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 16:55:30 [WARN]: MongoDB disconnected
2025-08-26 16:56:23 [INFO]: Server running in development mode on port 5000
2025-08-26 16:56:23 [INFO]: MongoDB Connected: localhost
2025-08-26 16:56:37 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:57:39 [WARN]: MongoDB disconnected
2025-08-26 20:04:08 [INFO]: Server running in development mode on port 5000
2025-08-26 20:04:08 [INFO]: MongoDB Connected: localhost
2025-08-26 20:09:51 [ERROR]: Error sending verification email: sendEmail is not a function
TypeError: sendEmail is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:84:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 20:10:55 [INFO]: Authentication attempt
{
  "email": "kelvinalfred56@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 20:41:46 [WARN]: MongoDB disconnected
2025-08-27 01:51:15 [INFO]: Server running in development mode on port 5000
2025-08-27 01:51:15 [INFO]: MongoDB Connected: localhost
2025-08-27 01:52:30 [INFO]: Server running in development mode on port 5000
2025-08-27 01:52:30 [INFO]: MongoDB Connected: localhost
2025-08-27 01:59:29 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-27 02:00:26 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:27:19 [INFO]: Server running in development mode on port 5000
2025-08-28 11:27:24 [ERROR]: Database connection failed: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017
MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017
    at _handleConnectionErrors (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\connection.js:1165:11)
    at NativeConnection.openUri (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\connection.js:1096:11)
    at async connectDB (C:\Users\Admin\Documents\new\server\config\database.js:6:18)
{
  "errorLabelSet": {},
  "reason": {
    "type": "Unknown",
    "servers": {
      "localhost:27017": {
        "address": "localhost:27017",
        "type": "Unknown",
        "hosts": [],
        "passives": [],
        "arbiters": [],
        "tags": {},
        "minWireVersion": 0,
        "maxWireVersion": 0,
        "roundTripTime": -1,
        "minRoundTripTime": 0,
        "lastUpdateTime": 50914654,
        "lastWriteDate": 0,
        "error": {
          "errorLabelSet": {},
          "beforeHandshake": false
        },
        "topologyVersion": null,
        "setName": null,
        "setVersion": null,
        "electionId": null,
        "logicalSessionTimeoutMinutes": null,
        "maxMessageSizeBytes": null,
        "maxWriteBatchSize": null,
        "maxBsonObjectSize": null,
        "primary": null,
        "me": null,
        "$clusterTime": null,
        "iscryptd": false
      }
    },
    "stale": false,
    "compatible": true,
    "heartbeatFrequencyMS": 10000,
    "localThresholdMS": 15,
    "setName": null,
    "maxElectionId": null,
    "maxSetVersion": null,
    "commonWireVersion": 0,
    "logicalSessionTimeoutMinutes": null
  },
  "cause": {
    "type": "Unknown",
    "servers": {
      "localhost:27017": {
        "address": "localhost:27017",
        "type": "Unknown",
        "hosts": [],
        "passives": [],
        "arbiters": [],
        "tags": {},
        "minWireVersion": 0,
        "maxWireVersion": 0,
        "roundTripTime": -1,
        "minRoundTripTime": 0,
        "lastUpdateTime": 50914654,
        "lastWriteDate": 0,
        "error": {
          "errorLabelSet": {},
          "beforeHandshake": false
        },
        "topologyVersion": null,
        "setName": null,
        "setVersion": null,
        "electionId": null,
        "logicalSessionTimeoutMinutes": null,
        "maxMessageSizeBytes": null,
        "maxWriteBatchSize": null,
        "maxBsonObjectSize": null,
        "primary": null,
        "me": null,
        "$clusterTime": null,
        "iscryptd": false
      }
    },
    "stale": false,
    "compatible": true,
    "heartbeatFrequencyMS": 10000,
    "localThresholdMS": 15,
    "setName": null,
    "maxElectionId": null,
    "maxSetVersion": null,
    "commonWireVersion": 0,
    "logicalSessionTimeoutMinutes": null
  }
}
2025-08-28 11:28:19 [INFO]: Server running in development mode on port 5000
2025-08-28 11:28:20 [ERROR]: Database connection failed: Authentication failed.
MongoServerError: Authentication failed.
    at Connection.sendCommand (C:\Users\Admin\Documents\new\server\node_modules\mongodb\lib\cmap\connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (C:\Users\Admin\Documents\new\server\node_modules\mongodb\lib\cmap\connection.js:333:26)
    at async continueScramConversation (C:\Users\Admin\Documents\new\server\node_modules\mongodb\lib\cmap\auth\scram.js:131:15)
    at async ScramSHA256.auth (C:\Users\Admin\Documents\new\server\node_modules\mongodb\lib\cmap\auth\scram.js:37:20)
    at async performInitialHandshake (C:\Users\Admin\Documents\new\server\node_modules\mongodb\lib\cmap\connect.js:104:13)
    at async connect (C:\Users\Admin\Documents\new\server\node_modules\mongodb\lib\cmap\connect.js:24:9)
{
  "errorLabelSet": {},
  "errorResponse": {
    "ok": 0,
    "errmsg": "Authentication failed.",
    "code": 18,
    "codeName": "AuthenticationFailed"
  },
  "ok": 0,
  "code": 18,
  "codeName": "AuthenticationFailed",
  "connectionGeneration": 0
}
2025-08-28 11:30:19 [INFO]: Server running in development mode on port 5000
2025-08-28 11:30:24 [ERROR]: Database connection failed: getaddrinfo ENOTFOUND 123
MongooseServerSelectionError: getaddrinfo ENOTFOUND 123
    at _handleConnectionErrors (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\connection.js:1165:11)
    at NativeConnection.openUri (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\connection.js:1096:11)
    at async connectDB (C:\Users\Admin\Documents\new\server\config\database.js:6:18)
{
  "errorLabelSet": {},
  "reason": {
    "type": "Unknown",
    "servers": {
      "123:27017": {
        "address": "123:27017",
        "type": "Unknown",
        "hosts": [],
        "passives": [],
        "arbiters": [],
        "tags": {},
        "minWireVersion": 0,
        "maxWireVersion": 0,
        "roundTripTime": -1,
        "minRoundTripTime": 0,
        "lastUpdateTime": 51094375,
        "lastWriteDate": 0,
        "error": {
          "errorLabelSet": {},
          "beforeHandshake": false
        },
        "topologyVersion": null,
        "setName": null,
        "setVersion": null,
        "electionId": null,
        "logicalSessionTimeoutMinutes": null,
        "maxMessageSizeBytes": null,
        "maxWriteBatchSize": null,
        "maxBsonObjectSize": null,
        "primary": null,
        "me": null,
        "$clusterTime": null,
        "iscryptd": false
      }
    },
    "stale": false,
    "compatible": true,
    "heartbeatFrequencyMS": 10000,
    "localThresholdMS": 15,
    "setName": null,
    "maxElectionId": null,
    "maxSetVersion": null,
    "commonWireVersion": 0,
    "logicalSessionTimeoutMinutes": null
  },
  "cause": {
    "type": "Unknown",
    "servers": {
      "123:27017": {
        "address": "123:27017",
        "type": "Unknown",
        "hosts": [],
        "passives": [],
        "arbiters": [],
        "tags": {},
        "minWireVersion": 0,
        "maxWireVersion": 0,
        "roundTripTime": -1,
        "minRoundTripTime": 0,
        "lastUpdateTime": 51094375,
        "lastWriteDate": 0,
        "error": {
          "errorLabelSet": {},
          "beforeHandshake": false
        },
        "topologyVersion": null,
        "setName": null,
        "setVersion": null,
        "electionId": null,
        "logicalSessionTimeoutMinutes": null,
        "maxMessageSizeBytes": null,
        "maxWriteBatchSize": null,
        "maxBsonObjectSize": null,
        "primary": null,
        "me": null,
        "$clusterTime": null,
        "iscryptd": false
      }
    },
    "stale": false,
    "compatible": true,
    "heartbeatFrequencyMS": 10000,
    "localThresholdMS": 15,
    "setName": null,
    "maxElectionId": null,
    "maxSetVersion": null,
    "commonWireVersion": 0,
    "logicalSessionTimeoutMinutes": null
  }
}
2025-08-28 11:31:15 [INFO]: Server running in development mode on port 5000
2025-08-28 11:31:15 [INFO]: MongoDB Connected: localhost
2025-08-28 11:49:32 [INFO]: Server running in development mode on port 5000
2025-08-28 11:49:37 [ERROR]: Database connection failed: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017
MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017
    at _handleConnectionErrors (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\connection.js:1165:11)
    at NativeConnection.openUri (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\connection.js:1096:11)
    at async connectDB (C:\Users\Admin\Documents\new\server\config\database.js:6:18)
{
  "errorLabelSet": {},
  "reason": {
    "type": "Unknown",
    "servers": {
      "localhost:27017": {
        "address": "localhost:27017",
        "type": "Unknown",
        "hosts": [],
        "passives": [],
        "arbiters": [],
        "tags": {},
        "minWireVersion": 0,
        "maxWireVersion": 0,
        "roundTripTime": -1,
        "minRoundTripTime": 0,
        "lastUpdateTime": 813161,
        "lastWriteDate": 0,
        "error": {
          "errorLabelSet": {},
          "beforeHandshake": false
        },
        "topologyVersion": null,
        "setName": null,
        "setVersion": null,
        "electionId": null,
        "logicalSessionTimeoutMinutes": null,
        "maxMessageSizeBytes": null,
        "maxWriteBatchSize": null,
        "maxBsonObjectSize": null,
        "primary": null,
        "me": null,
        "$clusterTime": null,
        "iscryptd": false
      }
    },
    "stale": false,
    "compatible": true,
    "heartbeatFrequencyMS": 10000,
    "localThresholdMS": 15,
    "setName": null,
    "maxElectionId": null,
    "maxSetVersion": null,
    "commonWireVersion": 0,
    "logicalSessionTimeoutMinutes": null
  },
  "cause": {
    "type": "Unknown",
    "servers": {
      "localhost:27017": {
        "address": "localhost:27017",
        "type": "Unknown",
        "hosts": [],
        "passives": [],
        "arbiters": [],
        "tags": {},
        "minWireVersion": 0,
        "maxWireVersion": 0,
        "roundTripTime": -1,
        "minRoundTripTime": 0,
        "lastUpdateTime": 813161,
        "lastWriteDate": 0,
        "error": {
          "errorLabelSet": {},
          "beforeHandshake": false
        },
        "topologyVersion": null,
        "setName": null,
        "setVersion": null,
        "electionId": null,
        "logicalSessionTimeoutMinutes": null,
        "maxMessageSizeBytes": null,
        "maxWriteBatchSize": null,
        "maxBsonObjectSize": null,
        "primary": null,
        "me": null,
        "$clusterTime": null,
        "iscryptd": false
      }
    },
    "stale": false,
    "compatible": true,
    "heartbeatFrequencyMS": 10000,
    "localThresholdMS": 15,
    "setName": null,
    "maxElectionId": null,
    "maxSetVersion": null,
    "commonWireVersion": 0,
    "logicalSessionTimeoutMinutes": null
  }
}
2025-08-28 11:51:15 [INFO]: Server running in development mode on port 5000
2025-08-28 11:51:16 [INFO]: MongoDB Connected: localhost
2025-08-28 11:53:13 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:53:27 [INFO]: Authentication attempt
{
  "email": "johnsonemmanuel1425@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:53:45 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:53:58 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:54:20 [INFO]: Authentication attempt
{
  "email": "johnsonemmanuel1425@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:57:06 [WARN]: MongoDB disconnected
2025-08-28 11:57:13 [INFO]: Server running in development mode on port 5000
2025-08-28 11:57:13 [INFO]: MongoDB Connected: localhost
2025-08-28 11:57:26 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:57:34 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:57:47 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:58:14 [ERROR]: Update user error: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"preferences\"",
  "kind": "ObjectId",
  "value": "preferences",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-28 11:59:07 [ERROR]: Update user error: Cast to ObjectId failed for value "change-password" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "change-password" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"change-password\"",
  "kind": "ObjectId",
  "value": "change-password",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-28 11:59:21 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:59:33 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 12:00:23 [WARN]: MongoDB disconnected
2025-08-28 12:00:29 [INFO]: Server running in development mode on port 5000
2025-08-28 12:00:29 [INFO]: MongoDB Connected: localhost
2025-08-28 12:00:45 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 12:06:19 [WARN]: MongoDB disconnected
2025-08-28 12:06:50 [INFO]: Server running in development mode on port 5000
2025-08-28 12:06:50 [INFO]: MongoDB Connected: localhost
2025-08-28 12:06:58 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 12:07:12 [WARN]: MongoDB disconnected
2025-08-29 00:08:21 [INFO]: Server running in development mode on port 5000
2025-08-29 00:08:22 [INFO]: MongoDB Connected: localhost
2025-08-29 00:26:05 [ERROR]: Email sending error:
{
  "error": "nodemailer.createTransporter is not a function",
  "recipient": "johnsonemmanuel1425@gmail.com",
  "subject": "Password Reset Request - Hospital Management System"
}
2025-08-29 00:26:05 [ERROR]: Error sending password reset email: nodemailer.createTransporter is not a function
TypeError: nodemailer.createTransporter is not a function
    at sendEmail (C:\Users\Admin\Documents\new\server\utils\sendEmail.js:7:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:333:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-29 00:26:49 [ERROR]: Email sending error:
{
  "error": "nodemailer.createTransporter is not a function",
  "recipient": "johnson1425@hospital.com",
  "subject": "Password Reset Request - Hospital Management System"
}
2025-08-29 00:26:49 [ERROR]: Error sending password reset email: nodemailer.createTransporter is not a function
TypeError: nodemailer.createTransporter is not a function
    at sendEmail (C:\Users\Admin\Documents\new\server\utils\sendEmail.js:7:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:333:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-29 00:47:33 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-29 00:48:01 [ERROR]: Update user error: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"preferences\"",
  "kind": "ObjectId",
  "value": "preferences",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-29 00:48:32 [ERROR]: Email sending error:
{
  "error": "nodemailer.createTransporter is not a function",
  "recipient": "johnson1425@hospital.com",
  "subject": "Password Reset Request - Hospital Management System"
}
2025-08-29 00:48:32 [ERROR]: Error sending password reset email: nodemailer.createTransporter is not a function
TypeError: nodemailer.createTransporter is not a function
    at sendEmail (C:\Users\Admin\Documents\new\server\utils\sendEmail.js:7:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:333:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-29 00:48:53 [WARN]: MongoDB disconnected
2025-08-30 18:27:15 [INFO]: Server running in development mode on port 5000
2025-08-30 18:27:15 [INFO]: MongoDB Connected: localhost
2025-08-30 18:29:43 [INFO]: Authentication attempt
{
  "email": "mozejohn5@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 18:29:58 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 18:29:58 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 18:32:20 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 18:32:20 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 18:34:27 [WARN]: MongoDB disconnected
2025-08-30 18:35:08 [INFO]: Server running in development mode on port 5000
2025-08-30 18:35:08 [INFO]: MongoDB Connected: localhost
2025-08-30 18:35:23 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 18:35:23 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 18:35:38 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 18:35:38 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 18:37:46 [INFO]: Connected to MongoDB
2025-08-30 18:37:46 [INFO]: Admin user already exists
2025-08-30 18:40:29 [INFO]: Connected to MongoDB
2025-08-30 18:40:29 [ERROR]: Error setting up admin user: User validation failed: gender: `other` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
ValidationError: User validation failed: gender: `other` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`other` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`other` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "other",
        "length": 5
      },
      "kind": "enum",
      "path": "gender",
      "value": "other"
    },
    "permissions.12": {
      "name": "ValidatorError",
      "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
      "properties": {
        "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.12",
        "value": "read:dashboard",
        "length": 14
      },
      "kind": "enum",
      "path": "permissions.12",
      "value": "read:dashboard"
    },
    "permissions.13": {
      "name": "ValidatorError",
      "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
      "properties": {
        "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.13",
        "value": "write:dashboard",
        "length": 15
      },
      "kind": "enum",
      "path": "permissions.13",
      "value": "write:dashboard"
    },
    "permissions.21": {
      "name": "ValidatorError",
      "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
      "properties": {
        "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.21",
        "value": "start:visits",
        "length": 12
      },
      "kind": "enum",
      "path": "permissions.21",
      "value": "start:visits"
    },
    "permissions.22": {
      "name": "ValidatorError",
      "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
      "properties": {
        "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.22",
        "value": "end:visits",
        "length": 10
      },
      "kind": "enum",
      "path": "permissions.22",
      "value": "end:visits"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 18:41:16 [INFO]: Connected to MongoDB
2025-08-30 18:41:16 [INFO]: Setting up admin user...

2025-08-30 18:41:52 [ERROR]: Error setting up admin user: User validation failed: gender: `other` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
ValidationError: User validation failed: gender: `other` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`other` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`other` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "other",
        "length": 5
      },
      "kind": "enum",
      "path": "gender",
      "value": "other"
    },
    "permissions.12": {
      "name": "ValidatorError",
      "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
      "properties": {
        "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.12",
        "value": "read:dashboard",
        "length": 14
      },
      "kind": "enum",
      "path": "permissions.12",
      "value": "read:dashboard"
    },
    "permissions.13": {
      "name": "ValidatorError",
      "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
      "properties": {
        "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.13",
        "value": "write:dashboard",
        "length": 15
      },
      "kind": "enum",
      "path": "permissions.13",
      "value": "write:dashboard"
    },
    "permissions.21": {
      "name": "ValidatorError",
      "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
      "properties": {
        "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.21",
        "value": "start:visits",
        "length": 12
      },
      "kind": "enum",
      "path": "permissions.21",
      "value": "start:visits"
    },
    "permissions.22": {
      "name": "ValidatorError",
      "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
      "properties": {
        "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.22",
        "value": "end:visits",
        "length": 10
      },
      "kind": "enum",
      "path": "permissions.22",
      "value": "end:visits"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 18:44:19 [WARN]: MongoDB disconnected
2025-08-30 18:44:27 [INFO]: Connected to MongoDB
2025-08-30 18:44:27 [ERROR]: Error setting up admin user: User validation failed: gender: `other` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
ValidationError: User validation failed: gender: `other` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`other` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`other` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "other",
        "length": 5
      },
      "kind": "enum",
      "path": "gender",
      "value": "other"
    },
    "permissions.12": {
      "name": "ValidatorError",
      "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
      "properties": {
        "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.12",
        "value": "read:dashboard",
        "length": 14
      },
      "kind": "enum",
      "path": "permissions.12",
      "value": "read:dashboard"
    },
    "permissions.13": {
      "name": "ValidatorError",
      "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
      "properties": {
        "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.13",
        "value": "write:dashboard",
        "length": 15
      },
      "kind": "enum",
      "path": "permissions.13",
      "value": "write:dashboard"
    },
    "permissions.21": {
      "name": "ValidatorError",
      "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
      "properties": {
        "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.21",
        "value": "start:visits",
        "length": 12
      },
      "kind": "enum",
      "path": "permissions.21",
      "value": "start:visits"
    },
    "permissions.22": {
      "name": "ValidatorError",
      "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
      "properties": {
        "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.22",
        "value": "end:visits",
        "length": 10
      },
      "kind": "enum",
      "path": "permissions.22",
      "value": "end:visits"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 18:46:09 [INFO]: Connected to MongoDB
2025-08-30 18:46:09 [INFO]: Setting up admin user...

2025-08-30 18:46:26 [ERROR]: Error setting up admin user: User validation failed: gender: `male` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
ValidationError: User validation failed: gender: `male` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    },
    "permissions.12": {
      "name": "ValidatorError",
      "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
      "properties": {
        "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.12",
        "value": "read:dashboard",
        "length": 14
      },
      "kind": "enum",
      "path": "permissions.12",
      "value": "read:dashboard"
    },
    "permissions.13": {
      "name": "ValidatorError",
      "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
      "properties": {
        "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.13",
        "value": "write:dashboard",
        "length": 15
      },
      "kind": "enum",
      "path": "permissions.13",
      "value": "write:dashboard"
    },
    "permissions.21": {
      "name": "ValidatorError",
      "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
      "properties": {
        "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.21",
        "value": "start:visits",
        "length": 12
      },
      "kind": "enum",
      "path": "permissions.21",
      "value": "start:visits"
    },
    "permissions.22": {
      "name": "ValidatorError",
      "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
      "properties": {
        "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.22",
        "value": "end:visits",
        "length": 10
      },
      "kind": "enum",
      "path": "permissions.22",
      "value": "end:visits"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 18:46:53 [INFO]: Connected to MongoDB
2025-08-30 18:46:53 [INFO]: Setting up admin user...

2025-08-30 18:48:18 [ERROR]: Error setting up admin user: User validation failed: gender: `male` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
ValidationError: User validation failed: gender: `male` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    },
    "permissions.12": {
      "name": "ValidatorError",
      "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
      "properties": {
        "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.12",
        "value": "read:dashboard",
        "length": 14
      },
      "kind": "enum",
      "path": "permissions.12",
      "value": "read:dashboard"
    },
    "permissions.13": {
      "name": "ValidatorError",
      "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
      "properties": {
        "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.13",
        "value": "write:dashboard",
        "length": 15
      },
      "kind": "enum",
      "path": "permissions.13",
      "value": "write:dashboard"
    },
    "permissions.21": {
      "name": "ValidatorError",
      "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
      "properties": {
        "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.21",
        "value": "start:visits",
        "length": 12
      },
      "kind": "enum",
      "path": "permissions.21",
      "value": "start:visits"
    },
    "permissions.22": {
      "name": "ValidatorError",
      "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
      "properties": {
        "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.22",
        "value": "end:visits",
        "length": 10
      },
      "kind": "enum",
      "path": "permissions.22",
      "value": "end:visits"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 18:49:19 [INFO]: Connected to MongoDB
2025-08-30 18:49:19 [INFO]: Setting up admin user...

2025-08-30 18:49:23 [ERROR]: Error setting up admin user: User validation failed: gender: `male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 18:53:42 [INFO]: Connected to MongoDB
2025-08-30 18:53:42 [INFO]: Setting up admin user...

2025-08-30 18:53:45 [ERROR]: Error setting up admin user: User validation failed: permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
ValidationError: User validation failed: permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "permissions.12": {
      "name": "ValidatorError",
      "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
      "properties": {
        "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.12",
        "value": "read:dashboard",
        "length": 14
      },
      "kind": "enum",
      "path": "permissions.12",
      "value": "read:dashboard"
    },
    "permissions.13": {
      "name": "ValidatorError",
      "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
      "properties": {
        "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.13",
        "value": "write:dashboard",
        "length": 15
      },
      "kind": "enum",
      "path": "permissions.13",
      "value": "write:dashboard"
    },
    "permissions.21": {
      "name": "ValidatorError",
      "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
      "properties": {
        "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.21",
        "value": "start:visits",
        "length": 12
      },
      "kind": "enum",
      "path": "permissions.21",
      "value": "start:visits"
    },
    "permissions.22": {
      "name": "ValidatorError",
      "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
      "properties": {
        "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.22",
        "value": "end:visits",
        "length": 10
      },
      "kind": "enum",
      "path": "permissions.22",
      "value": "end:visits"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 19:02:08 [INFO]: Connected to MongoDB
2025-08-30 19:02:08 [INFO]: Setting up admin user...

2025-08-30 19:03:40 [INFO]: 
âœ… Admin user created successfully!
2025-08-30 19:05:55 [INFO]: Server running in development mode on port 5000
2025-08-30 19:05:56 [INFO]: MongoDB Connected: localhost
2025-08-30 19:06:08 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:06:08 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 19:07:00 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:07:00 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 19:07:18 [WARN]: MongoDB disconnected
2025-08-30 19:07:22 [INFO]: Server running in development mode on port 5000
2025-08-30 19:07:22 [INFO]: MongoDB Connected: localhost
2025-08-30 19:07:34 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:07:35 [ERROR]: Login error: user.resetLoginAttempts is not a function
TypeError: user.resetLoginAttempts is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:185:16
2025-08-30 19:08:14 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:08:15 [ERROR]: Login error: user.resetLoginAttempts is not a function
TypeError: user.resetLoginAttempts is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:185:16
2025-08-30 19:08:32 [WARN]: MongoDB disconnected
2025-08-30 19:08:36 [INFO]: Server running in development mode on port 5000
2025-08-30 19:08:36 [INFO]: MongoDB Connected: localhost
2025-08-30 19:08:46 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:11:36 [WARN]: MongoDB disconnected
2025-08-30 19:11:41 [INFO]: Server running in development mode on port 5000
2025-08-30 19:11:41 [INFO]: MongoDB Connected: localhost
2025-08-30 19:11:47 [ERROR]: Token verification failed: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at protect (C:\Users\Admin\Documents\new\server\middleware\auth.js:49:14)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 19:11:47 [ERROR]: Token verification failed: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at protect (C:\Users\Admin\Documents\new\server\middleware\auth.js:49:14)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 19:11:55 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:14:17 [WARN]: MongoDB disconnected
2025-08-30 19:14:20 [INFO]: Server running in development mode on port 5000
2025-08-30 19:14:20 [INFO]: MongoDB Connected: localhost
2025-08-30 19:14:59 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:15:00 [ERROR]: Login error: user.incLoginAttempts is not a function
TypeError: user.incLoginAttempts is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:176:18
2025-08-30 19:15:08 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 22:51:50 [INFO]: Server running in development mode on port 5000
2025-08-30 22:51:50 [INFO]: MongoDB Connected: localhost
2025-08-30 22:59:07 [INFO]: Server running in development mode on port 5000
2025-08-30 22:59:07 [INFO]: MongoDB Connected: localhost
2025-08-30 22:59:10 [INFO]: Server running in development mode on port 5000
2025-08-30 22:59:10 [INFO]: MongoDB Connected: localhost
2025-08-30 22:59:20 [INFO]: Server running in development mode on port 5000
2025-08-30 22:59:21 [INFO]: MongoDB Connected: localhost
2025-08-30 22:59:24 [INFO]: Server running in development mode on port 5000
2025-08-30 22:59:24 [INFO]: MongoDB Connected: localhost
2025-08-30 22:59:40 [INFO]: Server running in development mode on port 5000
2025-08-30 22:59:40 [INFO]: MongoDB Connected: localhost
2025-08-30 23:01:02 [ERROR]: Token verification failed: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at protect (C:\Users\Admin\Documents\new\server\middleware\auth.js:49:14)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 23:01:02 [ERROR]: Token verification failed: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at protect (C:\Users\Admin\Documents\new\server\middleware\auth.js:49:14)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 23:05:00 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 23:05:01 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 23:18:14 [INFO]: Server running in development mode on port 5000
2025-08-30 23:18:15 [INFO]: MongoDB Connected: localhost
2025-08-30 23:18:34 [INFO]: Server running in development mode on port 5000
2025-08-30 23:18:34 [INFO]: MongoDB Connected: localhost
2025-08-30 23:20:07 [INFO]: Server running in development mode on port 5000
2025-08-30 23:20:07 [INFO]: MongoDB Connected: localhost
2025-08-30 23:20:12 [INFO]: Server running in development mode on port 5000
2025-08-30 23:20:12 [INFO]: MongoDB Connected: localhost
2025-08-30 23:20:25 [INFO]: Server running in development mode on port 5000
2025-08-30 23:20:25 [INFO]: MongoDB Connected: localhost
2025-08-30 23:20:27 [INFO]: Server running in development mode on port 5000
2025-08-30 23:20:27 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:35 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:35 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:37 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:37 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:40 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:40 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:42 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:42 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:46 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:46 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:47 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:47 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:57 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:57 [INFO]: MongoDB Connected: localhost
2025-08-30 23:29:12 [INFO]: Server running in development mode on port 5000
2025-08-30 23:29:12 [INFO]: MongoDB Connected: localhost
2025-08-30 23:29:17 [INFO]: Server running in development mode on port 5000
2025-08-30 23:29:17 [INFO]: MongoDB Connected: localhost
2025-08-30 23:29:25 [INFO]: Server running in development mode on port 5000
2025-08-30 23:29:25 [INFO]: MongoDB Connected: localhost
2025-08-30 23:29:49 [INFO]: Server running in development mode on port 5000
2025-08-30 23:29:49 [INFO]: MongoDB Connected: localhost
2025-08-30 23:29:58 [INFO]: Server running in development mode on port 5000
2025-08-30 23:29:59 [INFO]: MongoDB Connected: localhost
2025-08-30 23:30:03 [INFO]: Server running in development mode on port 5000
2025-08-30 23:30:03 [INFO]: MongoDB Connected: localhost
2025-08-30 23:30:45 [INFO]: Server running in development mode on port 5000
2025-08-30 23:30:45 [INFO]: MongoDB Connected: localhost
2025-08-30 23:31:26 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 23:35:31 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 23:35:46 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 23:39:28 [ERROR]: Registration error: User validation failed: gender: `female` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `female` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`female` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`female` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "female",
        "length": 6
      },
      "kind": "enum",
      "path": "gender",
      "value": "female"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 23:41:45 [WARN]: MongoDB disconnected
2025-08-30 23:41:58 [INFO]: Server running in development mode on port 5000
2025-08-30 23:41:58 [INFO]: MongoDB Connected: localhost
2025-08-30 23:42:15 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 00:14:17 [INFO]: Server running in development mode on port 5000
2025-08-31 00:14:17 [INFO]: MongoDB Connected: localhost
2025-08-31 00:14:19 [INFO]: Server running in development mode on port 5000
2025-08-31 00:14:19 [INFO]: MongoDB Connected: localhost
2025-08-31 00:14:25 [INFO]: Server running in development mode on port 5000
2025-08-31 00:14:25 [INFO]: MongoDB Connected: localhost
2025-08-31 00:14:28 [INFO]: Server running in development mode on port 5000
2025-08-31 00:14:28 [INFO]: MongoDB Connected: localhost
2025-08-31 00:14:40 [INFO]: Server running in development mode on port 5000
2025-08-31 00:14:40 [INFO]: MongoDB Connected: localhost
2025-08-31 00:20:10 [INFO]: Server running in development mode on port 5000
2025-08-31 00:20:10 [INFO]: MongoDB Connected: localhost
2025-08-31 00:21:47 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 00:29:45 [INFO]: Server running in development mode on port 5000
2025-08-31 00:29:45 [INFO]: MongoDB Connected: localhost
2025-08-31 00:29:52 [INFO]: Server running in development mode on port 5000
2025-08-31 00:29:52 [INFO]: MongoDB Connected: localhost
2025-08-31 00:29:57 [INFO]: Server running in development mode on port 5000
2025-08-31 00:29:57 [INFO]: MongoDB Connected: localhost
2025-08-31 00:30:01 [INFO]: Server running in development mode on port 5000
2025-08-31 00:30:01 [INFO]: MongoDB Connected: localhost
2025-08-31 00:30:40 [INFO]: Server running in development mode on port 5000
2025-08-31 00:30:40 [INFO]: MongoDB Connected: localhost
2025-08-31 00:38:20 [ERROR]: Create patient error: Patient validation failed: medicalHistory: Cast to embedded failed for value "Diabetes" (type string) at path "medicalHistory" because of "ObjectParameterError", allergies: Parameter "obj" to Document() must be an object, got "" (type string), patientId: Path `patientId` is required.
ValidationError: Patient validation failed: medicalHistory: Cast to embedded failed for value "Diabetes" (type string) at path "medicalHistory" because of "ObjectParameterError", allergies: Parameter "obj" to Document() must be an object, got "" (type string), patientId: Path `patientId` is required.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at model.$set (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:1480:12)
    at model.$set (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:1132:16)
    at model.Document (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:178:12)
    at model.Model (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:127:12)
    at new model (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4834:15)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:2775:20
    at Array.map (<anonymous>)
    at Function.create (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:2763:34)
    at C:\Users\Admin\Documents\new\server\routes\patients.js:124:35
{
  "errors": {
    "medicalHistory": {
      "stringValue": "\"Diabetes\"",
      "valueType": "string",
      "kind": "embedded",
      "value": "Diabetes",
      "path": "medicalHistory",
      "reason": {},
      "name": "CastError",
      "message": "Cast to embedded failed for value \"Diabetes\" (type string) at path \"medicalHistory\" because of \"ObjectParameterError\""
    },
    "allergies": {},
    "patientId": {
      "name": "ValidatorError",
      "message": "Path `patientId` is required.",
      "properties": {
        "message": "Path `patientId` is required.",
        "type": "required",
        "path": "patientId"
      },
      "kind": "required",
      "path": "patientId"
    }
  },
  "_message": "Patient validation failed"
}
2025-08-31 00:58:13 [INFO]: Server running in development mode on port 5000
2025-08-31 00:58:14 [INFO]: MongoDB Connected: localhost
2025-08-31 00:58:57 [INFO]: Server running in development mode on port 5000
2025-08-31 00:58:57 [INFO]: MongoDB Connected: localhost
2025-08-31 00:59:04 [INFO]: Server running in development mode on port 5000
2025-08-31 00:59:04 [INFO]: MongoDB Connected: localhost
2025-08-31 00:59:36 [INFO]: Server running in development mode on port 5000
2025-08-31 00:59:36 [INFO]: MongoDB Connected: localhost
2025-08-31 01:00:00 [ERROR]: Create patient error: Patient validation failed: allergies: Parameter "obj" to Document() must be an object, got "" (type string)
ValidationError: Patient validation failed: allergies: Parameter "obj" to Document() must be an object, got "" (type string)
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at SchemaDocumentArray.doValidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\documentArray.js:247:12)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3111:18
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "allergies": {}
  },
  "_message": "Patient validation failed"
}
2025-08-31 01:01:14 [INFO]: Server running in development mode on port 5000
2025-08-31 01:01:14 [INFO]: MongoDB Connected: localhost
2025-08-31 01:01:36 [INFO]: Server running in development mode on port 5000
2025-08-31 01:01:36 [INFO]: MongoDB Connected: localhost
2025-08-31 01:01:43 [INFO]: Server running in development mode on port 5000
2025-08-31 01:01:43 [INFO]: MongoDB Connected: localhost
2025-08-31 01:01:56 [INFO]: Server running in development mode on port 5000
2025-08-31 01:01:56 [INFO]: MongoDB Connected: localhost
2025-08-31 01:11:02 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 01:11:33 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 01:51:59 [WARN]: MongoDB disconnected
2025-08-31 01:52:28 [INFO]: Server running in development mode on port 5000
2025-08-31 01:52:28 [INFO]: MongoDB Connected: localhost
2025-08-31 01:53:17 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 01:57:00 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 01:58:06 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 02:01:41 [ERROR]: Get appointments error: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\appointments.js:20:26
{
  "path": "patient"
}
2025-08-31 15:20:24 [INFO]: Server running in development mode on port 5000
2025-08-31 15:20:24 [INFO]: MongoDB Connected: localhost
2025-08-31 15:21:15 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 15:21:46 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 15:22:44 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 15:32:54 [INFO]: Server running in development mode on port 5000
2025-08-31 15:32:54 [INFO]: MongoDB Connected: localhost
2025-08-31 15:33:02 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 15:53:24 [INFO]: Server running in development mode on port 5000
2025-08-31 15:53:24 [INFO]: MongoDB Connected: localhost
2025-08-31 16:21:06 [INFO]: Server running in development mode on port 5000
2025-08-31 16:21:06 [INFO]: MongoDB Connected: localhost
2025-08-31 16:29:15 [ERROR]: Get patient error: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
CastError: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\patients.js:62:21
{
  "stringValue": "\"search\"",
  "kind": "ObjectId",
  "value": "search",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-31 16:29:18 [ERROR]: Get patient error: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
CastError: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\patients.js:62:21
{
  "stringValue": "\"search\"",
  "kind": "ObjectId",
  "value": "search",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-31 16:33:54 [ERROR]: Get patient error: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
CastError: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\patients.js:62:21
{
  "stringValue": "\"search\"",
  "kind": "ObjectId",
  "value": "search",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-31 16:33:54 [ERROR]: Get patient error: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
CastError: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\patients.js:62:21
{
  "stringValue": "\"search\"",
  "kind": "ObjectId",
  "value": "search",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-31 16:36:00 [WARN]: MongoDB disconnected
2025-08-31 16:36:22 [INFO]: Server running in development mode on port 5000
2025-08-31 16:36:22 [INFO]: MongoDB Connected: localhost
2025-08-31 16:36:39 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 16:36:55 [ERROR]: Get patient error: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
CastError: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\patients.js:62:21
{
  "stringValue": "\"search\"",
  "kind": "ObjectId",
  "value": "search",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-31 16:44:17 [INFO]: Server running in development mode on port 5000
2025-08-31 16:44:17 [INFO]: MongoDB Connected: localhost
2025-08-31 16:44:29 [INFO]: Server running in development mode on port 5000
2025-08-31 16:44:29 [INFO]: MongoDB Connected: localhost
2025-08-31 16:44:31 [INFO]: Server running in development mode on port 5000
2025-08-31 16:44:31 [INFO]: MongoDB Connected: localhost
2025-08-31 16:44:34 [INFO]: Server running in development mode on port 5000
2025-08-31 16:44:34 [INFO]: MongoDB Connected: localhost
2025-08-31 16:45:08 [INFO]: Server running in development mode on port 5000
2025-08-31 16:45:08 [INFO]: MongoDB Connected: localhost
2025-08-31 16:45:31 [INFO]: Server running in development mode on port 5000
2025-08-31 16:45:31 [INFO]: MongoDB Connected: localhost
2025-08-31 16:49:59 [ERROR]: Registration error: User validation failed: department: `Radiology` is not a valid enum value for path `department`., gender: `male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: department: `Radiology` is not a valid enum value for path `department`., gender: `male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "department": {
      "name": "ValidatorError",
      "message": "`Radiology` is not a valid enum value for path `department`.",
      "properties": {
        "message": "`Radiology` is not a valid enum value for path `department`.",
        "type": "enum",
        "enumValues": [
          "General Medicine",
          "Cardiology",
          "Neurology",
          "Orthopedics",
          "Pediatrics",
          "Gynecology",
          "Dermatology",
          "Ophthalmology",
          "ENT",
          "Psychiatry",
          "Administration",
          "Nursing",
          "Reception"
        ],
        "path": "department",
        "value": "Radiology",
        "length": 9
      },
      "kind": "enum",
      "path": "department",
      "value": "Radiology"
    },
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 16:54:04 [INFO]: Server running in development mode on port 5000
2025-08-31 16:54:04 [INFO]: MongoDB Connected: localhost
2025-08-31 16:54:08 [INFO]: Server running in development mode on port 5000
2025-08-31 16:54:09 [INFO]: MongoDB Connected: localhost
2025-08-31 16:54:11 [INFO]: Server running in development mode on port 5000
2025-08-31 16:54:11 [INFO]: MongoDB Connected: localhost
2025-08-31 16:54:13 [INFO]: Server running in development mode on port 5000
2025-08-31 16:54:13 [INFO]: MongoDB Connected: localhost
2025-08-31 16:54:56 [ERROR]: Token verification failed: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`Male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`Male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "male",
          "female",
          "other"
        ],
        "path": "gender",
        "value": "Male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "Male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 16:55:05 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 16:55:05 [ERROR]: Login error: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`Male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`Male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "male",
          "female",
          "other"
        ],
        "path": "gender",
        "value": "Male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "Male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 16:55:18 [WARN]: MongoDB disconnected
2025-08-31 16:55:22 [INFO]: Server running in development mode on port 5000
2025-08-31 16:55:22 [INFO]: MongoDB Connected: localhost
2025-08-31 16:55:36 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 16:55:36 [ERROR]: Login error: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`Male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`Male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "male",
          "female",
          "other"
        ],
        "path": "gender",
        "value": "Male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "Male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 16:56:32 [WARN]: MongoDB disconnected
2025-08-31 16:56:43 [INFO]: Server running in development mode on port 5000
2025-08-31 16:56:44 [INFO]: MongoDB Connected: localhost
2025-08-31 16:57:23 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 16:57:23 [ERROR]: Login error: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`Male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`Male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "male",
          "female",
          "other"
        ],
        "path": "gender",
        "value": "Male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "Male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 16:58:12 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 16:58:12 [ERROR]: Login error: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`Male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`Male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "male",
          "female",
          "other"
        ],
        "path": "gender",
        "value": "Male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "Male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 17:00:24 [INFO]: Server running in development mode on port 5000
2025-08-31 17:00:24 [INFO]: MongoDB Connected: localhost
2025-08-31 17:00:42 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 17:03:03 [ERROR]: Registration error: User validation failed: gender: `male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 17:03:28 [ERROR]: Registration error: User validation failed: gender: `male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 17:07:51 [ERROR]: Registration error: User validation failed: gender: `male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 17:58:07 [WARN]: MongoDB disconnected
2025-08-31 17:58:15 [INFO]: Server running in development mode on port 5000
2025-08-31 17:58:15 [INFO]: MongoDB Connected: localhost
2025-08-31 17:59:30 [ERROR]: Email sending error:
{
  "error": "nodemailer.createTransporter is not a function",
  "recipient": "kelvinalfred56@gmail.com",
  "subject": "Welcome! Please Verify Your Email Address"
}
2025-08-31 17:59:30 [ERROR]: Error sending verification email: nodemailer.createTransporter is not a function
TypeError: nodemailer.createTransporter is not a function
    at sendEmail (C:\Users\Admin\Documents\new\server\utils\sendEmail.js:7:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:98:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31 18:06:24 [ERROR]: Email sending error:
{
  "error": "nodemailer.createTransporter is not a function",
  "recipient": "rachelvedastus@gmail.com",
  "subject": "Welcome! Please Verify Your Email Address"
}
2025-08-31 18:06:24 [ERROR]: Error sending verification email: nodemailer.createTransporter is not a function
TypeError: nodemailer.createTransporter is not a function
    at sendEmail (C:\Users\Admin\Documents\new\server\utils\sendEmail.js:7:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:98:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31 18:08:11 [INFO]: Authentication attempt
{
  "email": "rachelvedastus@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:09:13 [INFO]: Authentication attempt
{
  "email": "kelvinalfred56@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:09:32 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:10:45 [WARN]: MongoDB disconnected
2025-08-31 18:10:49 [INFO]: Server running in development mode on port 5000
2025-08-31 18:10:49 [INFO]: MongoDB Connected: localhost
2025-08-31 18:11:26 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:51:14 [INFO]: Authentication attempt
{
  "email": "kelvinalfred56@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:52:06 [INFO]: Authentication attempt
{
  "email": "rachelvedastus@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:54:04 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:54:18 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:56:53 [WARN]: MongoDB disconnected
2025-08-31 18:56:57 [INFO]: Server running in development mode on port 5000
2025-08-31 18:56:57 [INFO]: MongoDB Connected: localhost
2025-08-31 18:57:11 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 00:16:21 [INFO]: Authentication attempt
{
  "email": "rachelvedastus@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 00:16:43 [INFO]: Authentication attempt
{
  "email": "rachelvedastus@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 00:17:02 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 00:28:27 [WARN]: MongoDB disconnected
2025-09-01 00:29:28 [INFO]: Server running in development mode on port 5000
2025-09-01 00:29:28 [INFO]: MongoDB Connected: localhost
2025-09-01 00:38:59 [ERROR]: Error starting visit: Visit validation failed: createdBy: Path `createdBy` is required., visitDate: Path `visitDate` is required., doctorId: Path `doctorId` is required., patientId: Path `patientId` is required., visitId: Path `visitId` is required.
ValidationError: Visit validation failed: createdBy: Path `createdBy` is required., visitDate: Path `visitDate` is required., doctorId: Path `doctorId` is required., patientId: Path `patientId` is required., visitId: Path `visitId` is required.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "createdBy": {
      "name": "ValidatorError",
      "message": "Path `createdBy` is required.",
      "properties": {
        "message": "Path `createdBy` is required.",
        "type": "required",
        "path": "createdBy"
      },
      "kind": "required",
      "path": "createdBy"
    },
    "visitDate": {
      "name": "ValidatorError",
      "message": "Path `visitDate` is required.",
      "properties": {
        "message": "Path `visitDate` is required.",
        "type": "required",
        "path": "visitDate"
      },
      "kind": "required",
      "path": "visitDate"
    },
    "doctorId": {
      "name": "ValidatorError",
      "message": "Path `doctorId` is required.",
      "properties": {
        "message": "Path `doctorId` is required.",
        "type": "required",
        "path": "doctorId"
      },
      "kind": "required",
      "path": "doctorId"
    },
    "patientId": {
      "name": "ValidatorError",
      "message": "Path `patientId` is required.",
      "properties": {
        "message": "Path `patientId` is required.",
        "type": "required",
        "path": "patientId"
      },
      "kind": "required",
      "path": "patientId"
    },
    "visitId": {
      "name": "ValidatorError",
      "message": "Path `visitId` is required.",
      "properties": {
        "message": "Path `visitId` is required.",
        "type": "required",
        "path": "visitId"
      },
      "kind": "required",
      "path": "visitId"
    }
  },
  "_message": "Visit validation failed"
}
2025-09-01 00:45:07 [WARN]: MongoDB disconnected
2025-09-01 00:45:34 [INFO]: Server running in development mode on port 5000
2025-09-01 00:45:34 [INFO]: MongoDB Connected: localhost
2025-09-01 00:46:33 [INFO]: Visit started: V2500001 for patient Joan John
2025-09-01 00:46:33 [ERROR]: Error fetching visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:86:20
{
  "path": "assignedNurse"
}
2025-09-01 00:46:34 [ERROR]: Error fetching active visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:123:20
{
  "path": "assignedNurse"
}
2025-09-01 00:46:34 [ERROR]: Error fetching visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:86:20
{
  "path": "assignedNurse"
}
2025-09-01 00:46:35 [ERROR]: Error fetching active visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:123:20
{
  "path": "assignedNurse"
}
2025-09-01 00:48:54 [ERROR]: Error fetching visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:86:20
{
  "path": "assignedNurse"
}
2025-09-01 00:48:54 [ERROR]: Error fetching active visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:123:20
{
  "path": "assignedNurse"
}
2025-09-01 00:48:55 [ERROR]: Error fetching visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:86:20
{
  "path": "assignedNurse"
}
2025-09-01 00:48:55 [ERROR]: Error fetching active visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:123:20
{
  "path": "assignedNurse"
}
2025-09-01 00:49:00 [WARN]: MongoDB disconnected
2025-09-01 00:49:14 [INFO]: Server running in development mode on port 5000
2025-09-01 00:49:14 [INFO]: MongoDB Connected: localhost
2025-09-01 00:50:36 [INFO]: Visit ended: V2500001 by Johnson John
2025-09-01 00:56:06 [WARN]: MongoDB disconnected
2025-09-01 00:57:44 [INFO]: Server running in development mode on port 5000
2025-09-01 00:57:44 [INFO]: MongoDB Connected: localhost
2025-09-01 01:09:59 [INFO]: Authentication attempt
{
  "email": "rachelvedastus@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 01:11:19 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 01:11:59 [WARN]: MongoDB disconnected
2025-09-01 01:12:02 [INFO]: Server running in development mode on port 5000
2025-09-01 01:12:02 [INFO]: MongoDB Connected: localhost
2025-09-01 01:12:35 [INFO]: Visit started: V2500002 for patient Emmanuel Majula
2025-09-01 01:12:51 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 01:13:26 [INFO]: Authentication attempt
{
  "email": "rachelvedastus@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 01:18:42 [WARN]: MongoDB disconnected
2025-09-01 01:18:46 [INFO]: Server running in development mode on port 5000
2025-09-01 01:18:46 [INFO]: MongoDB Connected: localhost
2025-09-01 01:45:21 [WARN]: MongoDB disconnected
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 02:53:21"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 02:53:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 02:53:42"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 02:53:42"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 02:55:52"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 02:55:52"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:01:44"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:01:44"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:02:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:02:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:09:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:09:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:09:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:09:45"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:09:56"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:09:56"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:10:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:10:12"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:10:15"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:10:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:10:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:10:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:13:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:13:28"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:13:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:13:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:13:42"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:13:42"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:13:46"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:13:46"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:13:52"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:13:52"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:13:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:13:58"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:14:01"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:14:01"}
{"level":"error","message":"SyntaxError: Unexpected token '\"', \"\"johnson14\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at createStrictSyntaxError (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:169:10)\n    at parse (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:86:15)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)","service":"user-service","timestamp":"2025-09-01 03:26:10"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:31:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:31:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 14:32:05"}
{"level":"error","message":"Token verification failed: Operation `users.findOne()` buffering timed out after 10000ms","service":"user-service","stack":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-09-01 14:32:24"}
{"level":"error","message":"Token verification failed: Operation `users.findOne()` buffering timed out after 10000ms","service":"user-service","stack":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-09-01 14:32:32"}
{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"user-service","timestamp":"2025-09-01 14:32:35"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 14:33:15"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 14:33:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 14:46:49"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 14:46:49"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 14:55:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 14:55:00"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 14:56:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 14:56:40"}
{"level":"error","message":"SyntaxError: Unexpected token '\"', \"\"johnson14\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at createStrictSyntaxError (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:169:10)\n    at parse (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:86:15)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)","service":"user-service","timestamp":"2025-09-01 14:57:07"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 15:00:55"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 15:00:55"}
{"level":"error","message":"SyntaxError: Unexpected token '\"', \"\"johnson14\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at createStrictSyntaxError (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:169:10)\n    at parse (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:86:15)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)","service":"user-service","timestamp":"2025-09-01 15:01:10"}
{"level":"error","message":"SyntaxError: Unexpected token '\"', \"\"johnson14\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at createStrictSyntaxError (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:169:10)\n    at parse (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:86:15)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)","service":"user-service","timestamp":"2025-09-01 15:04:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 15:39:02"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 15:39:02"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 15:56:38"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 15:56:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 16:25:24"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 16:34:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 16:34:35"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:35:57"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:35:57"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:36:13"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:36:13"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:36:24"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:36:24"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:36:42"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:36:42"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 16:41:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 16:41:15"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 16:41:15"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:41:35"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:41:35"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:54:54"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:54:54"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:55:06"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 16:55:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 16:55:24"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 16:55:24"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 16:56:20"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 16:56:21"}
{"kind":"ObjectId","level":"error","message":"Update user error: Cast to ObjectId failed for value \"preferences\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"preferences\" (type string) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/users.js:114:16","stringValue":"\"preferences\"","timestamp":"2025-09-01 16:57:29","value":"preferences","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Update user error: Cast to ObjectId failed for value \"preferences\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"preferences\" (type string) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/users.js:114:16","stringValue":"\"preferences\"","timestamp":"2025-09-01 16:57:34","value":"preferences","valueType":"string"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 16:58:58"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 16:58:59"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 17:01:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 17:01:22"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 17:01:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 17:37:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 17:37:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 17:49:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 17:49:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 17:49:43"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 18:00:32"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 18:00:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 18:00:35"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 18:04:15"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 18:04:16"}
{"kind":"ObjectId","level":"error","message":"Update user error: Cast to ObjectId failed for value \"profile\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"profile\" (type string) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/users.js:168:16","stringValue":"\"profile\"","timestamp":"2025-09-01 18:05:15","value":"profile","valueType":"string"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 18:06:56"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 18:07:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 18:07:00"}
{"level":"error","message":"ValidationError: Appointment validation failed: duration: Cast to Number failed for value \"1 hour\" (type string) at path \"duration\", createdBy: Path `createdBy` is required., reason: Path `reason` is required., appointmentTime: Path `appointmentTime` is required., appointmentDate: Path `appointmentDate` is required., appointmentId: Path `appointmentId` is required., type: `Follow-up` is not a valid enum value for path `type`., status: `Scheduled` is not a valid enum value for path `status`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at model.$set (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:4834:15)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:2775:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:2763:34)\n    at file:///C:/Users/Admin/Documents/new/server/routes/appointments.js:19:43","service":"user-service","timestamp":"2025-09-01 20:45:48"}
{"level":"error","message":"ValidationError: Appointment validation failed: duration: Cast to Number failed for value \"1 hour\" (type string) at path \"duration\", createdBy: Path `createdBy` is required., reason: Path `reason` is required., appointmentTime: Path `appointmentTime` is required., appointmentDate: Path `appointmentDate` is required., appointmentId: Path `appointmentId` is required., status: `Scheduled` is not a valid enum value for path `status`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at model.$set (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:4834:15)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:2775:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:2763:34)\n    at file:///C:/Users/Admin/Documents/new/server/routes/appointments.js:19:43","service":"user-service","timestamp":"2025-09-01 20:56:02"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 20:56:09"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 20:56:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 20:56:18"}
{"_message":"Appointment validation failed","errors":{"reason":{"kind":"required","message":"Path `reason` is required.","name":"ValidatorError","path":"reason","properties":{"length":0,"message":"Path `reason` is required.","path":"reason","type":"required","value":""},"value":""}},"level":"error","message":"Create appointment error: Appointment validation failed: reason: Path `reason` is required.","service":"user-service","stack":"ValidationError: Appointment validation failed: reason: Path `reason` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-01 20:56:23"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:00:39"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:00:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:00:46"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 21:03:31"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 21:03:32"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:16:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:16:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:16:58"}
{"level":"error","message":"Get visits error: Cannot populate path `doctor` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"doctor","service":"user-service","stack":"StrictPopulateError: Cannot populate path `doctor` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:4466:21)\n    at Function.populate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:4433:21)\n    at model.Query._find (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2456:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:27:20","timestamp":"2025-09-01 21:17:02"}
{"level":"error","message":"Get visits error: Cannot populate path `doctor` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"doctor","service":"user-service","stack":"StrictPopulateError: Cannot populate path `doctor` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:4466:21)\n    at Function.populate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:4433:21)\n    at model.Query._find (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2456:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:27:20","timestamp":"2025-09-01 21:17:03"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:22:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:22:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:22:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:29:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:29:08"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:29:08"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:32:00"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:32:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:32:06"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:33:12"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:33:16"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:33:16"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:37:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:37:41"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:37:41"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:43:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:43:37"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:43:37"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:46:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:46:41"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:46:41"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 00:23:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 00:23:15"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 00:33:01"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 16:58:26"}
{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":3569529,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"errorLabelSet":{},"level":"error","message":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":3569529,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"service":"user-service","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (file:///C:/Users/Admin/Documents/new/server/config/database.js:6:18)","timestamp":"2025-09-02 16:58:30"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 16:59:19"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 16:59:19"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 17:24:42"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 17:24:53"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 17:24:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 17:44:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 17:44:08"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 17:44:09"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 17:50:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 17:50:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 17:50:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 17:59:14"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 17:59:17"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 17:59:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 18:13:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 18:13:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 18:13:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 18:19:28"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 18:19:32"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 18:19:32"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 18:49:44"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 18:49:47"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 18:49:47"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 23:41:35"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 15:20:49"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 15:20:49"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 16:00:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 16:01:08"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 16:01:08"}
{"kind":"ObjectId","level":"error","message":"Update user error: Cast to ObjectId failed for value \"preferences\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"preferences\" (type string) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/users.js:168:16","stringValue":"\"preferences\"","timestamp":"2025-09-03 16:04:06","value":"preferences","valueType":"string"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 16:08:05"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 16:08:08"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 16:08:08"}
{"level":"error","message":"Update preferences error: Cannot read properties of undefined (reading 'id')","service":"user-service","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at file:///C:/Users/Admin/Documents/new/server/routes/users.js:119:22\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2025-09-03 16:08:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 16:12:08"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 16:12:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 16:12:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 16:21:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 16:21:44"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 16:21:44"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 17:11:10"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 17:11:25"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 17:11:25"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 17:24:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 17:24:41"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 17:24:41"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 17:35:12"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 17:35:16"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 17:35:16"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 17:37:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 17:37:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 17:37:58"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 17:58:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 17:59:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 17:59:11"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 18:43:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 18:43:07"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 18:43:07"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:44:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:43:35"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:44:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:43:36"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:44:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:44:04"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:44:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:44:05"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:44:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:44:16"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:44:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:44:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 18:48:31"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 18:48:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 18:48:35"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:45:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:48:40"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:45:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:48:41"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 18:49:25"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 18:49:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 18:49:28"}
{"level":"error","message":"Get doctor queue error: Visit is not defined","service":"user-service","stack":"ReferenceError: Visit is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:39:23\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-03 18:49:33"}
{"level":"error","message":"Get doctor queue error: Visit is not defined","service":"user-service","stack":"ReferenceError: Visit is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:39:23\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-03 18:49:34"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 18:50:07"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 18:50:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 18:50:10"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 18:58:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 18:59:01"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 18:59:01"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 19:19:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 19:19:25"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 19:19:25"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 19:54:35"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 19:54:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 19:54:45"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 20:05:08"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 20:05:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 20:05:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 23:23:30"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 23:23:48"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 23:23:48"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 23:33:00"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 23:33:15"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 23:33:15"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 00:18:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 00:19:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 00:19:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 00:34:56"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 00:35:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 00:35:04"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 00:54:36"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 00:54:41"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 00:54:41"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 01:09:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 01:09:27"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 01:09:27"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 01:17:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 01:17:24"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 01:17:24"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:22:03"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:22:03"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:23:40"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:23:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 01:23:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 01:23:59"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 01:23:59"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:24:23"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:24:23"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 01:29:05"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 01:29:09"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 01:29:09"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 01:35:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 01:36:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 01:36:00"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:42:26"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:42:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 01:48:12"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 01:48:16"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 01:48:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 02:00:49"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 02:00:53"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 02:00:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 02:04:44"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 02:04:48"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 02:04:48"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 02:09:32"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 02:09:36"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 02:09:37"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 02:13:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 02:13:23"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 02:13:23"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 02:20:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 18:43:41"}
{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":3677552,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"errorLabelSet":{},"level":"error","message":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":3677552,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"service":"user-service","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (file:///C:/Users/Admin/Documents/new/server/config/database.js:6:18)","timestamp":"2025-09-04 18:43:46"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 18:44:46"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 18:44:46"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 22:39:03"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 22:39:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 22:39:28"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250904-0001","service":"user-service","timestamp":"2025-09-04 22:39:48"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250904-0002","service":"user-service","timestamp":"2025-09-04 23:38:48"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 23:40:54"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 23:41:14"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 23:41:14"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250904-0001","service":"user-service","timestamp":"2025-09-04 23:52:41"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 23:52:56"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 23:52:59"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 23:52:59"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250904-0001","service":"user-service","timestamp":"2025-09-04 23:55:51"}
{"level":"info","message":"Visit 68b9fcd2c1c81495ad5bac7b activated for invoice INV-202509-00001","service":"user-service","timestamp":"2025-09-04 23:55:51"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 23:56:02"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 23:56:05"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 23:56:05"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 23:58:13"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 23:58:17"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 23:58:17"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250904-0002","service":"user-service","timestamp":"2025-09-04 23:59:44"}
{"level":"info","message":"Visit 68b9fda4f020a9fc93f42c29 activated for invoice INV-202509-00002","service":"user-service","timestamp":"2025-09-04 23:59:44"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-05 00:11:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-05 00:11:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-05 00:11:10"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-05 00:25:05"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-05 00:25:09"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-05 00:25:09"}
{"level":"info","message":"Doctor 68b464ef446fab3d7288aa73 started visit 68b9fda4f020a9fc93f42c29","service":"user-service","timestamp":"2025-09-05 00:25:15"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-05 00:37:28"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-06 22:53:02"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-06 22:53:02"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-06 23:06:14"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-06 23:06:24"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-06 23:06:24"}
{"_message":"Appointment validation failed","errors":{"reason":{"kind":"required","message":"Path `reason` is required.","name":"ValidatorError","path":"reason","properties":{"length":0,"message":"Path `reason` is required.","path":"reason","type":"required","value":""},"value":""}},"level":"error","message":"Create appointment error: Appointment validation failed: reason: Path `reason` is required.","service":"user-service","stack":"ValidationError: Appointment validation failed: reason: Path `reason` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-06 23:10:54"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-06 23:55:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-06 23:55:52"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-06 23:55:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:01:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:01:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:01:18"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:02:14"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:02:19"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:02:19"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:05:49"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:05:54"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:05:54"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:18:43"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:18:47"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:18:47"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:46:07"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:46:21"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:46:21"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250907-0001","service":"user-service","timestamp":"2025-09-07 00:54:21"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:54:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:54:52"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:54:52"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250907-0002","service":"user-service","timestamp":"2025-09-07 00:55:57"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250907-0003","service":"user-service","timestamp":"2025-09-07 00:56:37"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:57:24"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:57:27"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:57:27"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 01:03:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 22:49:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 22:49:07"}
{"code":5107201,"codeName":"Location5107201","errorLabelSet":{},"errorResponse":{"code":5107201,"codeName":"Location5107201","errmsg":"invalid argument to $limit stage: Expected an integer, but found NaN in: $limit: nan.0","ok":0},"level":"error","message":"Get invoices error: invalid argument to $limit stage: Expected an integer, but found NaN in: $limit: nan.0","ok":0,"service":"user-service","stack":"MongoServerError: invalid argument to $limit stage: Expected an integer, but found NaN in: $limit: nan.0\n    at Connection.sendCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async AggregateOperation.executeCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async AggregateOperation.execute (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\aggregate.js:86:16)\n    at async tryOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async AggregationCursor._initialize (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cursor\\aggregation_cursor.js:56:26)\n    at async AggregationCursor.cursorInit (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:632:27)","timestamp":"2025-09-07 23:01:32"}
{"code":5107201,"codeName":"Location5107201","errorLabelSet":{},"errorResponse":{"code":5107201,"codeName":"Location5107201","errmsg":"invalid argument to $limit stage: Expected an integer, but found NaN in: $limit: nan.0","ok":0},"level":"error","message":"Get invoices error: invalid argument to $limit stage: Expected an integer, but found NaN in: $limit: nan.0","ok":0,"service":"user-service","stack":"MongoServerError: invalid argument to $limit stage: Expected an integer, but found NaN in: $limit: nan.0\n    at Connection.sendCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async AggregateOperation.executeCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async AggregateOperation.execute (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\aggregate.js:86:16)\n    at async tryOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async AggregationCursor._initialize (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cursor\\aggregation_cursor.js:56:26)\n    at async AggregationCursor.cursorInit (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:632:27)","timestamp":"2025-09-07 23:03:47"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 23:05:50"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 23:08:25"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 23:08:26"}
{"level":"error","message":"Delete appointment error: appointment.remove is not a function","service":"user-service","stack":"TypeError: appointment.remove is not a function\n    at file:///C:/Users/Admin/Documents/new/server/routes/appointments.js:148:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-07 23:30:04"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 23:56:47"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-08 20:06:33"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-08 20:06:34"}
{"kind":"ObjectId","level":"error","message":"Update user error: Cast to ObjectId failed for value \"change-password\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"change-password\" (type string) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/users.js:190:16","stringValue":"\"change-password\"","timestamp":"2025-09-08 20:17:58","value":"change-password","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Update user error: Cast to ObjectId failed for value \"profile\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"profile\" (type string) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/users.js:190:16","stringValue":"\"profile\"","timestamp":"2025-09-08 20:37:11","value":"profile","valueType":"string"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-08 20:52:50"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-08 20:56:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-08 20:56:18"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-08 21:08:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-08 21:08:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-08 21:08:19"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-08 21:18:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-08 21:18:37"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-08 21:18:37"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-08 21:34:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-08 21:34:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-08 21:34:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:21:48"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:21:48"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:30:30"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:30:33"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:30:33"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:35:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:35:16"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:35:16"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:36:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:36:42"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:36:42"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:43:39"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:43:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:43:43"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:45:10"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-09-09 18:45:20"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:46:27"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:46:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:46:45"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:48:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:48:45"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:56:51"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:56:57"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:56:57"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 19:03:42"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 19:03:55"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 19:03:55"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 19:04:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 19:05:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 19:05:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 19:21:31"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 19:21:31"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 19:34:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-10 19:21:54"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-10 19:21:56"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-10 19:23:47"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-11 16:22:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-11 16:22:29"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-11 17:46:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-11 17:46:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-11 17:46:43"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-14 15:52:36"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-14 15:52:36"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 01:50:50"}
{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":121568943,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"errorLabelSet":{},"level":"error","message":"Server selection timed out after 5000 ms","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":121568943,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"service":"user-service","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (file:///C:/Users/Admin/Documents/new/server/config/database.js:6:18)","timestamp":"2025-09-16 01:50:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 01:55:48"}
{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":121866696,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"errorLabelSet":{},"level":"error","message":"Server selection timed out after 5000 ms","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":121866696,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"service":"user-service","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (file:///C:/Users/Admin/Documents/new/server/config/database.js:6:18)","timestamp":"2025-09-16 01:55:53"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 02:04:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 02:04:45"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 02:14:16"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 02:14:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 02:14:28"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 02:21:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 02:21:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 02:21:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 15:38:15"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-09-16 15:38:37"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 17:33:44"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 17:33:59"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 17:33:59"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 17:47:05"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 17:47:09"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 17:47:09"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 17:50:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 17:50:51"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 17:50:51"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 17:57:01"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 17:57:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 17:57:04"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 22:32:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 22:32:42"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 22:32:42"}
{"level":"error","message":"Delete appointment error: appointment.remove is not a function","service":"user-service","stack":"TypeError: appointment.remove is not a function\n    at file:///C:/Users/Admin/Documents/new/server/routes/appointments.js:151:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-17 01:53:44"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-17 01:54:00"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-17 01:54:05"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-17 01:54:05"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-17 01:58:58"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-17 11:38:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-17 11:38:10"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-17 12:46:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-17 12:47:22"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-17 12:47:22"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-17 18:22:00"}
